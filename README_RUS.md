# 3DViewer v1.0

Реализация 3DViewer v1.0.

Английскую версию README можно найти в репозитории. 

## Содержание
1. [Внешний вид](#внешний-вид)
2. [Описание проекта](#описание-проекта)
3. [Сборка проекта](#сборка-проекта)
4. [Тестирование](#тестирование)
5. [Обратная связь](#обратная-связь)

<br>

## [Внешний вид](#3dviewer-v10)

<video width="800" height="540" controls>
  <source src="./misc/images/3d_viewer.mp4" type="video/mp4">
  Ваш браузер не поддерживает тег видео.
</video>

## [Описание проекта](#3dviewer-v10)

Цель данного рпоекта состоит в реализации на языке программирования C программы для просмотра 3D-моделей в каркасном виде (3D Viewer). Сами модели подгружаются из файлов формата .obj, вследствие чего возможно просматривать их на экране с возможностью вращения, масштабирования и перемещения.

- Программа разработана на языке С стандарта `C11` с использованием компилятора `gcc`. Производится использование дополнительных библиотек и модулей `QT`;
- Код программы находится в папке `src`;
- Сборка программы должна настроена с помощью `Makefile` со стандартным набором целей для GNU-программ: `all`, `install`, `uninstall`, `clean`, `dvi`, `dist`, `tests`, `gcov_report`. Установка ведется в папку `bin` в корне репозитория;
- Программа разработана в соответствии с принципами структурного программирования;
- Код написан в соответствии с `Google Style`;
- Обеспечено покрытие unit-тестами модулей, связанных с загрузкой моделей и аффинными преобразованиями;
- В один момент времени программа отображает только одну модель на экране;
- Программа предоставляет возможность:
    - Загружать каркасную модель из файла формата obj (поддержка только списка вершин и поверхностей);
    - Перемещать модель на заданное расстояние относительно осей `X`, `Y`, `Z`;
    - Поворачивать модель на заданный угол относительно своих осей `X`, `Y`, `Z`;
    - Масштабировать модель на заданное значение;
    - Производить афинные преобразования при помощи видеокарты (с помощью библиотечных методов OpenGL);
    - Настраивать тип проекции (параллельная и центральная);
    - Настраивать тип (нет, сплошная, пунктирная), цвет и толщину ребер, способ отображения (отсутствует, круг, квадрат), цвет и размер вершин;
    - Выбирать цвет фона;
    - Cохранять полученные («отрендеренные») изображения в файл в форматах bmp и jpeg;
    - Записывать небольшие «скринкасты» - текущие пользовательские аффинные преобразования загруженного объекта в gif-анимацию (640x480, 10fps, 5s);
- В программе реализован графический пользовательский интерфейс, на базе GUI-библиотек `QT` с `API` для `C11`.
- Графический пользовательский интерфейс содержит:
    - Кнопку для выбора файла с моделью и поле для ввода/вывода его названия;
    - Кнопку переключения метода афинного преобразования (процессор/видекарта);
    - Кнопку настройки проекции;
    - Кнопки выбора типа, цвета и толщины ребер;
    - Кнопки выбора типа, цвета и размера вершин;
    - Кнопку выбора фона;
    - Кнопки сохранения изображения и скринкаста;
    - Зону визуализации каркасной модели;
    - Слайдер и поля ввода для перемещения модели;
    - Слайдер и поля ввода для поворота модели;
    - Слайдер и поля ввода для масштабирования модели;  
    - Информацию о загруженной модели - название файла, кол-во вершин и ребер.
- Настройки сохраняется между перезапусками программы;
- Программа корректно обрабатывает и позволяет пользователю просматривать модели с деталями до 100, 1000, 10 000, 100 000, 1 000 000 вершин без зависания (то есть без бездействия интерфейса более 0.5 секунды).

## [Сборка проекта](#3dviewer-v10)

В `Makefile` добавлены следующие основные цели для работы с проектом:

| #  | Цель               | Описание цели                                                                   |
|----| ------------------ | ------------------------------------------------------------------------------- |
| 1  | `all`              | Производит сборку проекта и запускает игру                                      |
| 2  | `install`          | Производит сборку проекта                                                       |
| 3  | `uninstall`        | Производит деинсталяцию проекта                                                 |
| 4  | `3d_viewer`        | Осуществляет сборку модулей в статическую библиотеку                            |
| 5  | `test`             | Производит тестирование модулей                                                 |
| 6  | `gcov_report`      | Производит тестирование модулей и формирует отчет о покрытии в `html` формате   |
| 7  | `dvi`              | Формирует документацию в формате `html` и manual к функционалу                  |
| 8  | `dist`             | Сжимает проект в tar архив                                                      |
| 9  | `clean`            | Производит очистку репозитория от сгенерированных файлов                        |
| 10 | `rebuild`          | Осуществляет пересборку проекта                                                 |
| 11 | `clang_check`      | Тестирование модулей на соответствие `Google style`                             |
| 12 | `cppcheck`         | Тестирование модулей через анализатор кода `cppcheck`                           |
| 13 | `valgrind`         | Тестирование модулей на работу с памятью через `Valgrind`                       |
| 14 | `docker_build`     | Осуществляет сборку проекта через `Docker`                                      |
| 15 | `dependencies`     | Производит установку необходимых зависимостей для cборки и тестирования проекта |
| 16 | `run`              | Запустить программу                                                             |

<br>

Сборку проекта можно осуществить с помощью основной цели `install`, собирающей проект по `cmake`. Есть вариация установки с помощью `Docker` через цель `docker_build`.

> Для сборки проекта на любой операционной системе необходим cmake и qtbase начиная от версии 6.

## [Тестирование](#3dviewer-v10)

Также написанный код был:

- протестирован unit-тестами с использованием библиотеки `check`;
- протестирован на покрытие кода тестами с выводом в `html` отчет при помощи `gcovr`;
- тестирование на наличие ошибок/утечек через `valgrind`.

## [Обратная связь](#3dviewer-v10)

Если имеются вопросы касаемо особенностей или других интересующих вас моментов проекта, то обращайтесь на <br>

|          |                       |
| ---------| --------------------- |
| почту    | gabilov1997@gmail.com |
| telegram | @kossadda             |
| vk       | vk.com/kossadda       |

Спасибо за внимание. Надеюсь, что данный проект вам понравится и будет полезен.

<br>

[К оглавлению](#3dviewer-v10)
